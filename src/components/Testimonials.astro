---
import { Image } from "astro:assets";
import avatarJulie from "../assets/images/juliet.jpg";
import avatarAmy from "../assets/images/kelly.jpg";
import avatarLeslie from "../assets/images/lyndsi.jpg";

interface Testimonial {
  text: string;
  author: string;
  image: ImageMetadata | string;
}

interface Props {
  testimonials?: Testimonial[];
}

const defaultTestimonials = [
  {
    text: "Thank you for the awesome party for my daughter's 10th. They painted a custom otter for our otter themed party. My daughter and her friends loved it!",
    author: "Julie",
    image: avatarJulie,
  },
  {
    text: "Rose did an amazing job for my daughter's party! For everything you get, the party price is a total bargain and doesn't even compare to what else is out there!!",
    author: "Amy",
    image: avatarAmy,
  },
  {
    text: "Had a great experience with 'It's An Art Party!'. Robin thought of all the supplies and guided everyone in a fun project. My daughter loved it!",
    author: "Leslie",
    image: avatarLeslie,
  },
];

const { testimonials = defaultTestimonials } = Astro.props;
---

<section
  class="bg-brand-teal py-20 px-4 text-center text-white relative overflow-hidden"
>
  <!-- Background stars -->
  <div class="absolute top-10 left-10 text-white/20 text-5xl">★</div>
  <div class="absolute bottom-10 right-10 text-white/20 text-7xl">★</div>

  <h2 class="text-4xl md:text-6xl mb-4 drop-shadow-md tracking-wide">
    TESTIMONIALS
  </h2>
  <p
    class="text-sm font-body mb-16 opacity-90 tracking-wider uppercase font-bold"
  >
    Hear what Charlotte area moms are saying about It's an Art Party!
  </p>
  <div class="mb-8 animate-bounce">
    <svg
      class="w-10 h-10 mx-auto"
      viewBox="0 0 24 24"
      fill="white"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
      ></path>
    </svg>
  </div>

  <div
    class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12"
  >
    {
      testimonials.map((t) => (
        <div class="flex flex-col items-center">
          <div class="mb-8 relative">
            <p class="font-body text-sm leading-relaxed italic px-4 min-h-[80px]">
              {t.text}
            </p>
          </div>
          <div class="flex items-center justify-center space-x-4">
            {typeof t.image === "string" ? (
              <img
                src={t.image}
                alt={t.author}
                class="w-12 h-12 rounded-full border-2 border-white shadow-md object-cover"
              />
            ) : (
              <Image
                src={t.image}
                alt={t.author}
                class="w-12 h-12 rounded-full border-2 border-white shadow-md object-cover"
              />
            )}
            <p class="font-display tracking-widest uppercase text-sm">
              {t.author}
            </p>
          </div>
        </div>
      ))
    }
  </div>
</section>
